
/*
 * FormatHTML: JS utility to format HTML
 * @thomasdigby
 * Licensed MIT
 */
 function formatHtml(l){function m(a){return n(a).replace(/\t/g,"").replace(/\n/g,"").replace(/=""/g,"").replace(/\&gt;[\s]+\&lt;/g,"&gt;&lt;").replace(/(?!&gt;)(?!\n)&lt;/g,"\n&lt;").replace(/&gt;(?!&lt;)(?!\n)/g,"&gt;\n").split("\n").filter(function(a){return""!==a})}function n(a){var b={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};return String(a).replace(/[&<>''\/]/g,function(a){return b[a]})}return function(a){a=m(a);for(var b="",f="",d=0;d<a.length;d++){var h=a[d],
e=a[d-1];if(0<d){var c;if(c="&lt;"===e.substring(0,4)&&"&#x2F;"!==e.substring(4,10)&&"&lt;!--"!==e.substring(0,7)){c="br input link meta !doctype basefont base area source hr wbr param img isindex embed".split(" ");for(var k=!1,g=0;g<c.length;g++)if(e.match(new RegExp("&lt;\\b"+c[g]+"\\b"))){k=!0;break}c=!k}c&&(b+="\t");"&#x2F;"===h.substring(4,10)&&(b=b.slice(0,-1))}f+=b+h+"\n"}return f.trim()}(l)};